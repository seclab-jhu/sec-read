# How to create new post

## Prerequisite
The website is created using `pelican`, which is a static site generator. 
Detailed information about `pelican` refer to their [homepage](http://docs.getpelican.com/en/stable/). 

Make sure you have installed `python2`, pelican not fully supports `python3`. 
Using following command to install `pelican`.
```
pip install pelican
pip install markdown
```

Next install `ghp-import` for quickly check-in generated website to `gh-page` branch of the repository.
Github will deploy `gh-page` branch as project homepage.

## Edit/Publish new post

* Edit `markdown` file under `content` folder of the repository
* Run `make html` to generate html files into `output` folder in the project root
* Run `make serve` to start a local server for checking the generated content.
 * Visit: `http://localhost:8000` to check
* Make sure the generated html contents are ready to publish
* Run `make publish` command to generate *html* files for publishing. 
 * Generated files go into `output` folder, which overwrites the file generated by `make html` command.
* Run `ghp-import output` to *git commit* contents in `output` folder to `gh-page` branch
* Run `git push origin gh-pages` to update remote `gh-pages`.
 * It takes several minutes for Github to update the newly uploaded contents
* Run `git add content/` to add *markdown* files to the master branch
* Commit changes on master branch and push to `origin` repository
